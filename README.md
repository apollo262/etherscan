# これは何
etherscan APIをCLIで操作できるようにしています。勉強用の趣味プログラミングです。
# setup
```
python3 -m venv venv/ &&
source venv/bin/activate &&
pip install --upgrade pip &&
pip install -r requirements.txt
```
```
sudo apt install -y --no-install-recommends graphviz graphviz-dev
pip install graphviz
```
# create .env
```
ETHERSCAN_API_KEY=XXXXXXXX
ETHERSCAN_API_ENDPOINT=https://api.etherscan.io/api
```
# usage
- 指定したアドレスの収支を表示します。
- これはVitalik君が過去に公開していたアドレスです。
```
$ python etherscan.py --addr 0xAb5801a7D398351b8bE11C439e05C5B3259aeC9B --balance
2015-09-09 21:17:35 from 0x5ed8cee6b63b1c6afce3ad7c92f4fd7e1b8fad9f 0.200 balance: 0.200
2015-09-09 21:21:43 to   0x3535353535353535353535353535353535353535 -0.001 balance: 0.199
2015-09-16 01:04:32 to   0x4646464646464646464646464646464646464646 -0.011 balance: 0.187
2015-11-20 16:52:15 to   0x7272727272727272727272727272727272727272 -0.031 balance: 0.156
2015-11-20 17:47:03 to   0x9090909090909090909090909090909090909090 -0.031 balance: 0.125
2015-11-27 23:00:50 to   0xcd2a3d9f938e13cd947ec05abc7fe734df8dd826 -0.051 balance: 0.074
2015-11-27 23:02:58 from 0x5ed8cee6b63b1c6afce3ad7c92f4fd7e1b8fad9f 1.000 balance: 1.074
2015-11-27 23:03:18 from 0x5ed8cee6b63b1c6afce3ad7c92f4fd7e1b8fad9f 499999.000 balance: 500000.074
2016-01-30 07:18:49 from 0x0d6b478bbb5f8860f396f316284e34ae4cf5161c 0.400 balance: 500000.474
2016-03-13 22:40:40 to   0x5ed8cee6b63b1c6afce3ad7c92f4fd7e1b8fad9f -0.401 balance: 500000.073
2016-03-13 22:42:21 to   0x5ed8cee6b63b1c6afce3ad7c92f4fd7e1b8fad9f -50000.001 balance: 450000.072
2016-08-03 06:07:17 to   0x1db3439a222c519ab44bb1144fc28167b4fa6ee6 -50000.001 balance: 400000.071
2016-08-05 10:24:19 from 0xd8da6bf26964af9d7eed9e03e53415d37aa96045 1.000 balance: 400001.071
2016-08-05 10:24:47 from 0xd8da6bf26964af9d7eed9e03e53415d37aa96045 49999.000 balance: 450000.071
2016-08-05 10:30:34 to   0x1db3439a222c519ab44bb1144fc28167b4fa6ee6 -100000.001 balance: 350000.070
2016-08-05 10:33:57 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 100.000 balance: 350100.070
2016-08-05 10:35:16 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 9900.000 balance: 360000.070
2016-08-05 10:37:16 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 90000.000 balance: 450000.070
2016-08-08 21:06:52 from 0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0 0.100 balance: 450000.170
2016-08-08 21:26:46 from 0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0 5537.170 balance: 455537.340
2016-08-10 22:39:13 to   0x5ed8cee6b63b1c6afce3ad7c92f4fd7e1b8fad9f -75000.000 balance: 380537.340
2016-08-10 23:04:18 from 0x1db3439a222c519ab44bb1144fc28167b4fa6ee6 79462.660 balance: 460000.000
2016-09-02 17:45:38 to   0x1db3439a222c519ab44bb1144fc28167b4fa6ee6 -35000.000 balance: 425000.000
2016-09-02 17:55:28 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 1.100 balance: 425001.100
2016-09-02 19:36:23 to   0x1db3439a222c519ab44bb1144fc28167b4fa6ee6 -44500.000 balance: 380501.099
2016-09-02 20:08:19 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 1.100 balance: 380502.199
2016-09-03 12:10:50 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 1.000 balance: 380503.199
2016-09-03 12:27:01 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 100.000 balance: 380603.199
2016-09-03 13:11:54 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 30000.000 balance: 410603.199
2016-09-05 12:55:27 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 1.000 balance: 410604.199
2016-09-05 13:00:08 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 500.000 balance: 411104.199
2016-09-05 13:05:46 from 0xaa1a6e3e6ef20068f7f8d8c835d2d22fd5116444 48895.750 balance: 459999.949
2016-11-05 10:14:56 to   0x8c5101728d77860d875e801623f0905bde598bd4 -45500.001 balance: 414499.949
2016-11-05 11:10:34 from 0xabbb6bebfa05aa13e908eaa492bd7a8343760477 0.100 balance: 414500.049
2016-11-05 11:12:25 from 0xabbb6bebfa05aa13e908eaa492bd7a8343760477 4.900 balance: 414504.949
2016-11-05 12:00:35 from 0xabbb6bebfa05aa13e908eaa492bd7a8343760477 45494.900 balance: 459999.849
(省略)
2021-11-02 00:29:42 from 0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2 104.749 balance: 114.515
2021-11-02 00:32:02 to   0x6232c99d8316455717239e6e3aae1db0b075950b -10.403 balance: 104.112
2021-11-09 01:19:14 from 0x86dd078be127e78bdd366b489d6dbe7efcefc549 0.003 balance: 104.115
2021-11-19 09:34:22 from 0x0c2185ba35966fa75c7ac1c576ebd9ed848a9f1c 0.001 balance: 104.116
2021-11-29 13:13:04 from 0xc4225f4b62ee4f59e76de2866be593fdb255de51 0.000 balance: 104.116
2021-12-12 11:37:34 from 0xe9fcbebf7226cb3fe6bce011e74efcdd09665664 0.009 balance: 104.124
2021-12-14 22:08:25 to   0x7a250d5630b4cf539739df2c5dacb4c659f2488d -12.508 balance: 91.617
2021-12-16 23:45:39 to   0xc18360217d8f7ab5e7c516566761ea12ce7f9d72 -0.010 balance: 91.606
2021-12-22 19:20:53 from 0x8ee6086d73e3b1a650158e1d528d10bb94795cc6 0.001 balance: 91.608
2021-12-25 03:56:28 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2021-12-25 04:07:44 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2021-12-25 05:36:27 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2021-12-25 06:23:58 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2021-12-25 07:17:19 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2021-12-25 07:46:28 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2021-12-25 08:05:00 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2021-12-25 08:38:02 from 0xc0e8c5b81cd4794c6a139bd96bd13f5b15b86fff 0.000 balance: 91.608
2022-01-04 11:20:12 from 0x0743a33cd9daf2e48e4ef7377d1f9ac85221b61e 0.000 balance: 91.609
2022-01-13 19:09:04 from 0x91de78b6af649521757e77df0f86325e202f1c14 0.100 balance: 91.709
2022-01-20 07:44:40 to   0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45 -12.533 balance: 79.176
2022-01-20 07:46:11 to   0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45 -12.547 balance: 66.629
2022-01-28 23:23:50 to   0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48 -0.007 balance: 66.621
2022-01-28 23:31:26 to   0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48 -0.006 balance: 66.615
2022-01-28 23:37:38 to   0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48 -0.006 balance: 66.609
2022-01-29 01:15:07 from 0xabea9132b05a70803a4e85094fd0e1800777fbef 0.000 balance: 66.609
2022-01-29 01:16:22 to   0x3eeb37fff4a3a5ed2c021842435260bf44479bfa -0.104 balance: 66.505
2022-02-08 22:55:32 to   0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45 -12.529 balance: 53.976
2022-02-11 04:43:53 to   0x7a250d5630b4cf539739df2c5dacb4c659f2488d -0.012 balance: 53.964
2022-02-11 04:43:53 from 0x7a250d5630b4cf539739df2c5dacb4c659f2488d 0.314 balance: 54.278
2022-02-12 14:48:09 from 0x1ed1dab540433465c79ae82da0c418d5999e87d8 0.000 balance: 54.278
2022-02-14 00:02:48 to   0xfff028379b6db354ae3a617f040bd289e8961271 -0.452 balance: 53.826
2022-02-17 20:48:40 from 0x337d3eb7e2160c2c9ceaa01ade53a425dfb0c8f0 0.001 balance: 53.827
balance: 53.827
max: 500,000.474
```
- 一時期50万ETH入っていたVitalik君のお金はいったいどこに?
```
python etherscan.py --addr 0xAb5801a7D398351b8bE11C439e05C5B3259aeC9B -r 0.05 -d 3
```
https://github.com/apollo262/etherscan/tree/master/result
![trace](https://user-images.githubusercontent.com/34386141/156887695-e900aeab-6da8-4ff9-86b6-04bed47887a3.jpg)
